SQL> SPOOL
currently spooling to P6_PABLO_MARTIN.lst
SQL> SELECT SYSDATE
  2  FROM DUAL;

SYSDATE                                                                                                                 
---------                                                                                                               
21-NOV-18                                                                                                               

SQL> SELECT TO_CHAR(SYSDATE, 'DDD')
  2  FROM DUAL;

TO_                                                                                                                     
---                                                                                                                     
325                                                                                                                     

SQL> SELECT TO_CHAR(SYSDATE, 'D')
  2  FROM DUAL;

T                                                                                                                       
-                                                                                                                       
4                                                                                                                       

SQL> SELECT TO_CHAR(SYSDATE, 'WW')
  2  FROM DUAL;

TO                                                                                                                      
--                                                                                                                      
47                                                                                                                      

SQL> SELECT TO_CHAR(SYSDATE, 'W')
  2  FROM DUAL;

T                                                                                                                       
-                                                                                                                       
3                                                                                                                       

SQL> SELECT TO_CHAR(SYSDATE, 'WWW')
  2  FROM DUAL;

TO_                                                                                                                     
---                                                                                                                     
473                                                                                                                     

SQL> REM **SI PONGO SELECT TO_CHAR(SYSDATE, 'DDD') FROM DUAL; ME DEVUELVE LOS DIAS DEL ANIO QUE LLEVAMOS
SQL> REM ** SI PONGO SOLO DD ME DEVUELVE EL DIA DEL MES ACTUL
SQL> REM ** SI PONGO SOLO D ME DEVUELVE EL DIA DE LA SEMANA ACTUAL SIENDO 1 EL DOMINGO
SQL> SELECT
  2  
SQL> SELECT EXTRACT(YEAR FROM FI)
  2  FROM PLAN_DOCENTE;

EXTRACT(YEARFROMFI)                                                                                                     
-------------------                                                                                                     
               2005                                                                                                     
               2008                                                                                                     
               2009                                                                                                     
               2007                                                                                                     
               2009                                                                                                     
               2008                                                                                                     
               2006                                                                                                     
               2009                                                                                                     
               2009                                                                                                     
               2008                                                                                                     
               2009                                                                                                     
               2011                                                                                                     
               2008                                                                                                     
               2010                                                                                                     
               2010                                                                                                     
               2008                                                                                                     
               2010                                                                                                     
               2009                                                                                                     
               2010                                                                                                     

19 rows selected.

SQL> SELECT *
  2  FROM PLAN_DOCENTE;

       DNI        CAS        CTA        CPA        CLA FI        FF                                                     
---------- ---------- ---------- ---------- ---------- --------- ---------                                              
      4444          1          3        1.5        1.5 01-SEP-11                                                        
      4444          4        1.5          0        1.5 01-SEP-08 31-AUG-10                                              
      4444          5          3          0          0 01-SEP-10                                                        
      1111          8          3        1.5        1.5 01-SEP-07 31-AUG-09                                              
      1111          8          3          0          0 01-SEP-09                                                        
      3030          8          0        1.5        1.5 01-SEP-09                                                        
      2222          4        1.5          0        1.5 01-SEP-09                                                        
      1010          2        1.5        1.5          3 01-SEP-05 31-AUG-08                                              
      2222          3        1.5          0        1.5 01-SEP-06 31-AUG-07                                              
      3333          2        1.5        1.5          3 01-SEP-08                                                        
      1010          9          3          0          3 01-SEP-08 31-AUG-09                                              
      1010          9        1.5          0        1.5 01-SEP-09                                                        
      9999          7          3          3          0 01-SEP-10                                                        
      5555          6          3          3          0 31-MAR-10                                                        
      6666         10          3        1.5        1.5 01-SEP-08 31-AUG-11                                              
      8888         11          6          0          0 01-SEP-09                                                        
      2020          3        1.5          0        1.5 01-SEP-08                                                        
      7777         12        4.5          3          0 01-SEP-10                                                        
      3333          9        1.5          0        1.5 01-SEP-09                                                        

19 rows selected.

SQL> SELECT EXTRACT(YEAR FROM FF)
  2  FROM PLAN_DOCENTE;

EXTRACT(YEARFROMFF)                                                                                                     
-------------------                                                                                                     
                                                                                                                        
               2010                                                                                                     
                                                                                                                        
               2009                                                                                                     
                                                                                                                        
                                                                                                                        
                                                                                                                        
               2008                                                                                                     
               2007                                                                                                     
                                                                                                                        
               2009                                                                                                     
                                                                                                                        
                                                                                                                        
                                                                                                                        
               2011                                                                                                     
                                                                                                                        
                                                                                                                        
                                                                                                                        
                                                                                                                        

19 rows selected.

SQL> SELECT EXTRACT(MONTH FROM FI)
  2  FROM PLAN_DOCENTE;

EXTRACT(MONTHFROMFI)                                                                                                    
--------------------                                                                                                    
                   9                                                                                                    
                   9                                                                                                    
                   9                                                                                                    
                   9                                                                                                    
                   9                                                                                                    
                   9                                                                                                    
                   9                                                                                                    
                   9                                                                                                    
                   9                                                                                                    
                   9                                                                                                    
                   9                                                                                                    
                   9                                                                                                    
                   9                                                                                                    
                   9                                                                                                    
                   3                                                                                                    
                   9                                                                                                    
                   9                                                                                                    
                   9                                                                                                    
                   9                                                                                                    

19 rows selected.

SQL> SELECT EXTRACT(DAY FROM FI)
  2  FROM PLAN_DOCENTE;

EXTRACT(DAYFROMFI)                                                                                                      
------------------                                                                                                      
                 1                                                                                                      
                 1                                                                                                      
                 1                                                                                                      
                 1                                                                                                      
                 1                                                                                                      
                 1                                                                                                      
                 1                                                                                                      
                 1                                                                                                      
                 1                                                                                                      
                 1                                                                                                      
                 1                                                                                                      
                 1                                                                                                      
                 1                                                                                                      
                 1                                                                                                      
                31                                                                                                      
                 1                                                                                                      
                 1                                                                                                      
                 1                                                                                                      
                 1                                                                                                      

19 rows selected.

SQL> REM *1
SQL> SELECT SYSDATE
  2  FROM DUAL
  3  ;

SYSDATE                                                                                                                 
---------                                                                                                               
21-NOV-18                                                                                                               

SQL> REM *2
SQL> SELECT TO_CHAR(SYSDATE, 'HH:MI:SS')
  2  FROM DUAL;

TO_CHAR(                                                                                                                
--------                                                                                                                
01:21:25                                                                                                                

SQL> 
SQL> SELECT TO_CHAR(SYSDATE, 'DAY:MM:YY')
  2  FROM DUAL;

TO_CHAR(SYSDATE,'DAY:MM:YY')                                                                                            
------------------------------------------                                                                              
WEDNESDAY:11:18                                                                                                         

SQL> SELECT TO_CHAR(SYSDATE, 'DAY:DD:MON')
  2  FROM DUAL;

TO_CHAR(SYSDATE,'DAY:DD:MON')                                                                                           
----------------------------------------------------                                                                    
WEDNESDAY:21:NOV                                                                                                        

SQL> SELECT TO_CHAR(SYSDATE, 'DAY:DD:MON:YY')
  2  FROM DUAL;

TO_CHAR(SYSDATE,'DAY:DD:MON:YY')                                                                                        
-------------------------------------------------------                                                                 
WEDNESDAY:21:NOV:18                                                                                                     

SQL> SELECT TO_CHAR(SYSDATE, 'DAY:DD:MM:YYYY')
  2  FROM DUAL;

TO_CHAR(SYSDATE,'DAY:DD:MM:YYYY')                                                                                       
-----------------------------------------------                                                                         
WEDNESDAY:21:11:2018                                                                                                    

SQL> REM *4
SQL> SELECT TO_CHAR(SYSDATE, 'HH24:MI:SS')
  2  FROM DUAL;

TO_CHAR(                                                                                                                
--------                                                                                                                
13:29:12                                                                                                                

SQL> 
SQL> REM *5
SQL> SELECT (SELECT SYSDATE FROM DUAL)-FI FROM PLAN_DOCENTE WHERE DNI = 8888 AND CAS = 11;

(SELECTSYSDATEFROMDUAL)-FI                                                                                              
--------------------------                                                                                              
                3368.56404                                                                                              

SQL> SELECT P FROM PROFESOR WHERE DNI IN
  2  (SELECT DNI FROM PLAN_DOCENTE WHERE FF-FI > 365);

P                                                                                                                       
------------------------------------------------------------                                                            
JUAN                                                                                                                    
MARIA                                                                                                                   
CARMEN                                                                                                                  
DAVID                                                                                                                   

SQL> REM *7
SQL> SELECT COUNT(P)
  2  FROM PROFESOR NATUTAL JOIN AREA NATURAL JOIN DEPARTAMENTO
  3  WHERE D = 'ASTROFISICA';
WHERE D = 'ASTROFISICA'
*
ERROR at line 3:
ORA-00905: missing keyword 


SQL> SELECT COUNT(P)
  2  FROM PROFESOR NATUTAL JOIN AREA NATURAL JOIN DEPARTAMENTO
  3  WHERE D = 'ASTROFISICA';
WHERE D = 'ASTROFISICA'
*
ERROR at line 3:
ORA-00905: missing keyword 


SQL> SELECT COUNT(P)
  2  FROM PROFESOR NATUTAL JOIN AREA NATURAL JOIN DEPARTAMENTO
  3  WHERE D='ASTROFISICA';
WHERE D='ASTROFISICA'
*
ERROR at line 3:
ORA-00905: missing keyword 


SQL> SELECT COUNT(P)
  2  
SQL> SELECT *
  2  FROM DEPARTAMENTO;

        CD D                                                                                                            
---------- ------------------------------------------------------------                                                 
         1 ANALISIS MATEMATICO                                                                                          
         2 ASTROFISICA                                                                                                  
         3 ESTADISTICA, INVESTIGACION OPERATIVA Y COMPUTACION                                                           
         4 MATEMATICA FUNDAMENTAL                                                                                       

SQL> SELECT COUNT(P)
  2  FROM PROFESOR NATUTAL JOIN AREA NATURAL JOIN DEPARTAMENTO
  3  WHERE D='ASTROFISICA';
WHERE D='ASTROFISICA'
*
ERROR at line 3:
ORA-00905: missing keyword 


SQL> SELECT COUNT(P)
  2  
SQL> SELECT *
  2  FROM PROFESOR NATUTAL JOIN AREA NATURAL JOIN DEPARTAMENTO;
FROM PROFESOR NATUTAL JOIN AREA NATURAL JOIN DEPARTAMENTO
                                                        *
ERROR at line 2:
ORA-00905: missing keyword 


SQL> SELECT COUNT(P)
  2  FROM PROFESOR NATURAL JOIN AREA NATURAL JOIN DEPARTAMENTO
  3  WHERE D='ASTROFISICA';

  COUNT(P)                                                                                                              
----------                                                                                                              
         1                                                                                                              

SQL> REM *8
SQL> SELECT D, COUNT(DNI)
  2  FROM DEPARTAMENTO, PROFESOR, AREA
  3  WHERE (DEPARTAMENTO.CD = AREA.CD AND PROFESOR.CAR = AREA.CAR)
  4  GROUP BY D ASC;
GROUP BY D ASC
           *
ERROR at line 4:
ORA-00933: SQL command not properly ended 


SQL> SELECT D, COUNT(DNI)
  2  FROM DEPARTAMENTO, PROFESOR, AREA
  3  WHERE (DEPARTAMENTO.CD = AREA.CD AND PROFESOR.CAR = AREA.CAR)
  4  GROUP BY D  ORDER BY D;

D                                                            COUNT(DNI)                                                 
------------------------------------------------------------ ----------                                                 
ANALISIS MATEMATICO                                                   3                                                 
ASTROFISICA                                                           1                                                 
ESTADISTICA, INVESTIGACION OPERATIVA Y COMPUTACION                    7                                                 
MATEMATICA FUNDAMENTAL                                                1                                                 

SQL> SELECT COUNT(T)
  2  FROM ASIGNATURAS WHERE CAS IN
  3  (SELECT CAS FROM AREA, DEPARTAMENTO
  4  WHERE AREA.CD = DEPARTAMENTO.CD AND D='ESTADISTICA, INVESTIGACION OPERATIVA Y COMPUTACION');
FROM ASIGNATURAS WHERE CAS IN
     *
ERROR at line 2:
ORA-00942: table or view does not exist 


SQL> SELECT COUNT(T)
  2  FROM ASIGNATURAS WHERE CAS IN
  3  (SELECT CAS FROM AREA, DEPARTAMENTO
  4  WHERE AREA.CD = DEPARTAMENTO.CD AND D='ESTADISTICA, INVESTIGACION OPERATIVA Y COMPUTACION');
FROM ASIGNATURAS WHERE CAS IN
     *
ERROR at line 2:
ORA-00942: table or view does not exist 


SQL> SELECT COUNT(T)
  2  FROM ASIGNATURA WHERE CAS IN
  3  WHERE AREA.CD = DEPARTAMENTO.CD AND D='ESTADISTICA, INVESTIGACION OPERATIVA Y COMPUTACION');
WHERE AREA.CD = DEPARTAMENTO.CD AND D='ESTADISTICA, INVESTIGACION OPERATIVA Y COMPUTACION')
*
ERROR at line 3:
ORA-00936: missing expression 


SQL> SELECT COUNT(T)
  2  FROM ASIGNATURA WHERE CAS IN
  3  (SELECT CAS FROM AREA, DEPARTAMENTO
  4  WHERE AREA.CD = DEPARTAMENTO.CD AND D='ESTADISTICA, INVESTIGACION OPERATIVA Y COMPUTACION');

  COUNT(T)                                                                                                              
----------                                                                                                              
        12                                                                                                              

SQL> SELECT DISTINCT(COUNT(T))
  2  FROM ASIGNATURA WHERE CAS IN
  3  (SELECT CAS FROM AREA, DEPARTAMENTO
  4  WHERE AREA.CD = DEPARTAMENTO.CD AND D='ESTADISTICA, INVESTIGACION OPERATIVA Y COMPUTACION');

(COUNT(T))                                                                                                              
----------                                                                                                              
        12                                                                                                              

SQL> SPOOL OFF
SQL> SPOOL
currently spooling to P6_PABLO_MARTIN.lst
SQL> REM --9
SQL> SELECT COUNT(DISTINCT(T))
  2  FROM ASIGNATURA
  3  WHERE CAS IN
  4  (SELECT CAS FROM AREA, DEPARTAMENTO
  5  WHERE AREA.CD=DEPARTAENTO.CD AND D='ESTADISTICA, INVESTIGACION OPERATIVA Y COMPUTACION');
WHERE AREA.CD=DEPARTAENTO.CD AND D='ESTADISTICA, INVESTIGACION OPERATIVA Y COMPUTACION')
              *
ERROR at line 5:
ORA-00904: "DEPARTAENTO"."CD": invalid identifier 


SQL> SELECT COUNT(DISTINCT(T))
  2  FROM ASIGNATURA
  3  WHERE CAS IN
  4  (SELECT CAS FROM AREA, DEPARTAMENTO
  5  WHERE AREA.CD=DEPARTAMENTO.CD AND D='ESTADISTICA, INVESTIGACION OPERATIVA Y COMPUTACION');

COUNT(DISTINCT(T))                                                              
------------------                                                              
                 4                                                              

SQL> REM --10
SQL> SELECT COUNT(P)
  2  FROM AREA, PROFESOR
  3  WHERE PROFESOR.CAR=AREA.CAR AND AR LIKE 'A%';

  COUNT(P)                                                                      
----------                                                                      
         3                                                                      

SQL> REM 11
SQL> SELECT T, COUNT(CAS)
  2  FROM ASIGNATURA
  3  GROUP BY T ORDER BY T;

T    COUNT(CAS)                                                                 
---- ----------                                                                 
GF            1                                                                 
GII           7                                                                 
GM            2                                                                 
MII           2                                                                 

SQL> REM --12
SQL> SELECT A
  2  FROM ASIGNATURA
  3  WHERE CT IN
  4  (SELECT MAX(CT) FROM ASIGNATURA);

A                                                                               
--------------------------------------------------                              
ENSENANZA DE LA MATEMATICA                                                      

SQL> REM --13
SQL> SELECT A
  2  FROM ASIGNATURA
  3  WHERE CT IN
  4  (SELECT MIN(CT) FROM ASIGNATURA);

A                                                                               
--------------------------------------------------                              
INTELIGENCIA ARTIFICIAL                                                         
ALMACENES DE DATOS                                                              
MINERIA DE DATOS                                                                

SQL> REM -14
SQL> SELECT A CT+CP+CL CREDITOS
  2  FROM ASIGNATURA;
SELECT A CT+CP+CL CREDITOS
           *
ERROR at line 1:
ORA-00923: FROM keyword not found where expected 


SQL> SELECT A, CT+CP+CL CREDITOS
  2  FROM ASIGNATURA;

A                                                    CREDITOS                   
-------------------------------------------------- ----------                   
BASES DE DATOS                                              6                   
INTELIGENCIA ARTIFICIAL                                     6                   
ALMACENES DE DATOS                                          3                   
MINERIA DE DATOS                                            3                   
INFORMATICA BASICA                                          6                   
ALGEBRA                                                     6                   
CALCULO                                                     6                   
OPTIMIZACION                                                6                   
GESTION DE RIESGOS                                          6                   
ASTRONOMIA                                                  6                   
ENSENANZA DE LA MATEMATICA                                  6                   

A                                                    CREDITOS                   
-------------------------------------------------- ----------                   
ANALISIS COMPLETO                                         7.5                   

12 rows selected.

SQL> SET LINESIZE 150
SQL> SET PAGESIZE 30
SQL> SELECT A, CT+CP+CL CREDITOS
  2  FROM ASIGNATURA;

A                                                    CREDITOS                                                                                         
-------------------------------------------------- ----------                                                                                         
BASES DE DATOS                                              6                                                                                         
INTELIGENCIA ARTIFICIAL                                     6                                                                                         
ALMACENES DE DATOS                                          3                                                                                         
MINERIA DE DATOS                                            3                                                                                         
INFORMATICA BASICA                                          6                                                                                         
ALGEBRA                                                     6                                                                                         
CALCULO                                                     6                                                                                         
OPTIMIZACION                                                6                                                                                         
GESTION DE RIESGOS                                          6                                                                                         
ASTRONOMIA                                                  6                                                                                         
ENSENANZA DE LA MATEMATICA                                  6                                                                                         
ANALISIS COMPLETO                                         7.5                                                                                         

12 rows selected.

SQL> REM --15
SQL> SELECT A
  2  FROM ASIGNATURA
  3  WHERE CT+CP+CL IN
  4  (SELECT MAX(CT+CP+CL) FROM ASIGNATURA);

A                                                                                                                                                     
--------------------------------------------------                                                                                                    
ANALISIS COMPLETO                                                                                                                                     

SQL> REM --16
SQL> SELECT A
  2  FROM ASIGNATURA
  3  WHERE CT+CP+CL IN
  4  (SELECT MIN(CT+CP+CL) FROM ASIGNATURA);

A                                                                                                                                                     
--------------------------------------------------                                                                                                    
ALMACENES DE DATOS                                                                                                                                    
MINERIA DE DATOS                                                                                                                                      

SQL> REM --17
SQL> SELECT AR
  2  FROM AREA
  3  WHERE CAR IN
  4  (SELECT CAR FROM ASIGNATURA WHERE CT+CP+CL IN
  5  (SELECT MAX(CT+CP+CL) FROM ASIGNATURA));

AR                                                                                                                                                    
------------------------------------------------------------                                                                                          
ANALISIS MATEMATICO                                                                                                                                   

SQL> REM --18
SQL> SELECT COUNT(DISTINCT(CAS)) ASIGNATURAS
  2  FROM PLAN_DOCENTE
  3  WHERE DNI='1111';

ASIGNATURAS                                                                                                                                           
-----------                                                                                                                                           
          1                                                                                                                                           

SQL> REM --19
SQL> SELECT SUM(CTA+CPA+CLA) CREDITOS_DNI_1111
  2  FROM PLAN_DOCENTE
  3  WHERE DNI = '1111';

CREDITOS_DNI_1111                                                                                                                                     
-----------------                                                                                                                                     
                9                                                                                                                                     

SQL> SELECT SUM(CTA+CPA+CLA)
  2  WHERE DNI = '1111';
WHERE DNI = '1111'
*
ERROR at line 2:
ORA-00923: FROM keyword not found where expected 


SQL> SELECT SUM(CTA+CPA+CLA) CREDITOS
  2  WHERE DNI = '1111';
WHERE DNI = '1111'
*
ERROR at line 2:
ORA-00923: FROM keyword not found where expected 


SQL> SELECT SUM(CTA+CPA+CLA)
  2  FROM PLAN_DOCENTE
  3  WHERE DNI = '1111';

SUM(CTA+CPA+CLA)                                                                                                                                      
----------------                                                                                                                                      
               9                                                                                                                                      

SQL> REM --20
SQL> SELECT P
  2  FROM PROFESOR
  3  WHERE DNI IN
  4  (SELECT DNI FROM PLAN_DOCENTE
  5  WHERE (CTA+CPA+CLA) IN (SELECT MAX(CTA+CPA+CLA)
  6  FROM PLAN_DOCENTE) AND (FF IS NULL))
  7  ;

P                                                                                                                                                     
------------------------------------------------------------                                                                                          
MARIO                                                                                                                                                 

SQL> REM --21
SQL> SELECT AVG(COUNT(A))
  2  FROM ASIGNATURA
  3  GROUP BY CAR;

AVG(COUNT(A))                                                                                                                                         
-------------                                                                                                                                         
          1.5                                                                                                                                         

SQL> REM --22
SQL> SELECT AVG(COUNT(P))
  2  FROM PROFESOR, AREA
  3  WHERE PROFESOR.CAR=AREA.CAR
  4  GROUP BY CD;

AVG(COUNT(P))                                                                                                                                         
-------------                                                                                                                                         
            3                                                                                                                                         

SQL> REM --23
SQL> SELECT S
  2  
SQL> SELECT AR
  2  FROM AREA
  3  WHERE CAR IN
  4  (SELECT CAR FROM ASIGNATURA
  5  GROUP BY CAR
  6  HAVING COUNT(CAR)>3;
HAVING COUNT(CAR)>3
                  *
ERROR at line 6:
ORA-00907: missing right parenthesis 


SQL> SELECT AR
  2  FROM AREA
  3  WHERE CAR IN
  4  (SELECT CAR FROM ASIGNATURA
  5  GROUP BY CAR
  6  HAVING COUNT(CAR)>3);

AR                                                                                                                                                    
------------------------------------------------------------                                                                                          
LENGUAJES Y SISTEMAS INFORMATICOS                                                                                                                     

SQL> REM --24
SQL> SELECT AR
  2  FROM AREA
  3  (SELECT CAR FROM ASIGNATURA
  4  GROUP BY CAR
  5  HAVING COUNT(CAR)>6);
(SELECT CAR FROM ASIGNATURA
 *
ERROR at line 3:
ORA-00936: missing expression 


SQL> SELECT AR
  2  FROM AREA
  3  WHERE CAR IN
  4  (SELECT CAR FROM ASIGNATURA
  5  GROUP BY CAR
  6  HAVING COUNT(CAR)>6);

no rows selected

SQL> SELECT D
  2  FROM DEPARTAMENTO,AREA,PROFESOR
  3  WHERE PROFESOR.CAR=AREA.CAR AND AREA.CD=DEPARTAMENTO.CD
  4  GROUP BY D
  5  HAVING COUNT(DNI)=(SELECT MIN(COUNT(DNI))
  6  FROM DEPARTAMENTO,AREA,PROFESOR
  7  WHERE PROFESOR.CAR=AREA.CAR AND AREA.CD=DEPARTAMENTO.CD
  8  GROUP BY D);

D                                                                                                                                                     
------------------------------------------------------------                                                                                          
ASTROFISICA                                                                                                                                           
MATEMATICA FUNDAMENTAL                                                                                                                                

SQL> SPOOL OFF
SQL> SELECT COUNT(DISTINCT(T))
  2  FROM DEPARTAMENTO NATURAL JOIN AREA NATURAL JOIN ASIGNATURA
  3  WHERE D='ESTADISTICA, INVESTIGACION OPERATIVA Y COMPUTACION';

COUNT(DISTINCT(T))                                                              
------------------                                                              
                 2                                                              

SQL> SPOOL OFF
